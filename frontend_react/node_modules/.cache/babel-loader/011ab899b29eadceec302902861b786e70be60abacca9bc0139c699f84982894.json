{"ast":null,"code":"import _slicedToArray from\"D:/myportfolio/frontend_react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{HiChevronLeft,HiChevronRight}from'react-icons/hi';import{motion}from'framer-motion';import{AppWrap,MotionWrap}from'../../wrapper';import{urlFor,client}from'../../client';import'./Testimonial.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Testimonial=function Testimonial(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentIndex=_useState2[0],setCurrentIndex=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),testimonials=_useState4[0],setTestimonials=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),brands=_useState6[0],setBrands=_useState6[1];var handleClick=function handleClick(index){setCurrentIndex(index);};useEffect(function(){var query='*[_type == \"testimonials\"]';var brandsQuery='*[_type == \"brands\"]';client.fetch(query).then(function(data){setTestimonials(data);});client.fetch(brandsQuery).then(function(data){setBrands(data);});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[testimonials.length&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__testimonial-item app__flex\",children:[/*#__PURE__*/_jsx(\"img\",{src:urlFor(testimonials[currentIndex].imageurl),alt:testimonials[currentIndex].name}),/*#__PURE__*/_jsxs(\"div\",{className:\"app__testimonial-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"p-text\",children:testimonials[currentIndex].feedback}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"bold-text\",children:testimonials[currentIndex].name}),/*#__PURE__*/_jsx(\"h5\",{className:\"p-text\",children:testimonials[currentIndex].company})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app__testimonial-btns app__flex\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"app__flex\",onClick:function onClick(){return handleClick(currentIndex===0?testimonials.length-1:currentIndex-1);},children:/*#__PURE__*/_jsx(HiChevronLeft,{})}),/*#__PURE__*/_jsx(\"div\",{className:\"app__flex\",onClick:function onClick(){return handleClick(currentIndex===testimonials.length-1?0:currentIndex+1);},children:/*#__PURE__*/_jsx(HiChevronRight,{})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"app__testimonial-brands app__flex\",children:brands.map(function(brand){return/*#__PURE__*/_jsx(motion.div,{whileInView:{opacity:[0,1]},transition:{duration:0.5,type:'tween'},children:/*#__PURE__*/_jsx(\"img\",{src:urlFor(brand.imgUrl),alt:brand.name})},brand._id);})})]});};export default AppWrap(MotionWrap(Testimonial,'app__testimonial'),'testimonial','app__primarybg');","map":{"version":3,"names":["React","useState","useEffect","HiChevronLeft","HiChevronRight","motion","AppWrap","MotionWrap","urlFor","client","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Testimonial","_useState","_useState2","_slicedToArray","currentIndex","setCurrentIndex","_useState3","_useState4","testimonials","setTestimonials","_useState5","_useState6","brands","setBrands","handleClick","index","query","brandsQuery","fetch","then","data","children","length","className","src","imageurl","alt","name","feedback","company","onClick","map","brand","div","whileInView","opacity","transition","duration","type","imgUrl","_id"],"sources":["D:/myportfolio/frontend_react/src/container/Testimonial/Testimonial.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { HiChevronLeft, HiChevronRight } from 'react-icons/hi';\nimport { motion } from 'framer-motion';\n\nimport { AppWrap, MotionWrap } from '../../wrapper';\nimport { urlFor, client } from '../../client';\nimport './Testimonial.scss';\n\nconst Testimonial = () => {\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [testimonials, setTestimonials] = useState([]);\n  const [brands, setBrands] = useState([]);\n\n  const handleClick = (index) => {\n    setCurrentIndex(index);\n  };\n\n  useEffect(() => {\n    const query = '*[_type == \"testimonials\"]';\n    const brandsQuery = '*[_type == \"brands\"]';\n\n    client.fetch(query).then((data) => {\n      setTestimonials(data);\n    });\n\n    client.fetch(brandsQuery).then((data) => {\n      setBrands(data);\n    });\n  }, []);\n\n  return (\n    <>\n      {testimonials.length && (\n        <>\n          <div className=\"app__testimonial-item app__flex\">\n          <img src={urlFor(testimonials[currentIndex].imageurl)} alt={testimonials[currentIndex].name} />\n            <div className=\"app__testimonial-content\">\n              <p className=\"p-text\">{testimonials[currentIndex].feedback}</p>\n              <div>\n                <h4 className=\"bold-text\">{testimonials[currentIndex].name}</h4>\n                <h5 className=\"p-text\">{testimonials[currentIndex].company}</h5>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"app__testimonial-btns app__flex\">\n            <div className=\"app__flex\" onClick={() => handleClick(currentIndex === 0 ? testimonials.length - 1 : currentIndex - 1)}>\n              <HiChevronLeft />\n            </div>\n\n            <div className=\"app__flex\" onClick={() => handleClick(currentIndex === testimonials.length - 1 ? 0 : currentIndex + 1)}>\n              <HiChevronRight />\n            </div>\n          </div>\n        </>\n      )}\n\n      <div className=\"app__testimonial-brands app__flex\">\n        {brands.map((brand) => (\n          <motion.div\n            whileInView={{ opacity: [0, 1] }}\n            transition={{ duration: 0.5, type: 'tween' }}\n            key={brand._id}\n          >\n            <img src={urlFor(brand.imgUrl)} alt={brand.name} />\n          </motion.div>\n        ))}\n      </div>\n    </>\n  );\n};\n\nexport default AppWrap(\n  MotionWrap(Testimonial, 'app__testimonial'),\n  'testimonial',\n  'app__primarybg',\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}